# RuffRuff App Design & Features

## App Overview

RuffRuff is an iOS app that provides a native, user-friendly interface for linting Python code using the Ruff linter on iPhone and iPad.

## User Interface

### Tab Bar Navigation

The app uses a standard iOS tab bar with two main sections:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           RuffRuff                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                                  â”‚ â”‚
â”‚  â”‚       Main Content Area          â”‚ â”‚
â”‚  â”‚                                  â”‚ â”‚
â”‚  â”‚                                  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚  â”‚ ğŸ“„ Editor â”‚ âš™ï¸ Settingsâ”‚              â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Editor Tab

### Empty State (No File Open)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Ruff Linter              ğŸ—‚ï¸ ğŸ“         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                          â”‚
â”‚                                          â”‚
â”‚              ğŸ”                          â”‚
â”‚          (Large Icon)                    â”‚
â”‚                                          â”‚
â”‚          No File Open                    â”‚
â”‚                                          â”‚
â”‚    Open a Python file to start linting  â”‚
â”‚                                          â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚    â”‚  ğŸ“ Open File      â”‚               â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â”‚                                          â”‚
â”‚                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### File Open with Code

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Ruff Linter         â–¶ï¸ ğŸ—‚ï¸ ğŸ“          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  sample.py      âš ï¸ 2    ğŸ”´ 1            â”‚
â”œâ”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚    â”‚ import os                           â”‚
â”‚  1 â”‚ import sys                          â”‚
â”‚  2 â”‚                                     â”‚
â”‚  3 â”‚                                     â”‚
â”‚ âš ï¸ â”‚ def very_long_function_name_that... â”‚
â”‚  4 â”‚     """Docstring."""                â”‚
â”‚  5 â”‚     x = 1                           â”‚
â”‚ ğŸ”´ â”‚     unused_var = "never used"       â”‚
â”‚  6 â”‚     return x                        â”‚
â”‚  7 â”‚                                     â”‚
â”‚    â”‚                                     â”‚
â”œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ”´ E501: Line too long (120 > 88)       â”‚
â”‚ Line 4, Column 1                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Key Features in Editor View

1. **Navigation Bar**
   - Title: "Ruff Linter"
   - X button: Close current file (left)
   - Play button: Re-run linting (center-right)
   - Folder button: Open new file (right)

2. **File Header**
   - Shows filename
   - Warning count with icon (âš ï¸)
   - Error count with icon (ğŸ”´)

3. **Code Display Area**
   - **Left Margin (Gutter)**
     - Line numbers (right-aligned)
     - Diagnostic indicators (âš ï¸ for warnings, ğŸ”´ for errors)
     - Tappable icons to show details
   - **Code Area**
     - Syntax-highlighted Python code
     - Monospaced font
     - Lines with issues have red tinted background
     - Scrollable horizontally and vertically

4. **Diagnostic Detail Panel (Bottom)**
   - Shows when a diagnostic icon is tapped
   - Displays:
     - Severity icon and code (e.g., "E501")
     - Line and column number
     - Full error message
     - Color-coded by severity (red for errors, orange for warnings)

### Syntax Highlighting Colors

- **Keywords** (def, class, import, return, etc.): Purple
- **Strings** ("text", 'text'): Green
- **Comments** (# comment): Gray
- **Default text**: System text color

## Settings Tab

### Settings View

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Settings                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                          â”‚
â”‚  LINE LENGTH                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Max Line Length      88  [- +]     â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                          â”‚
â”‚  RULE SELECTION                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Selected Rules              >      â”‚ â”‚
â”‚  â”‚ E, F, W                            â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Ignored Rules               >      â”‚ â”‚
â”‚  â”‚ None                               â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                          â”‚
â”‚  ABOUT                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Version                     1.0.0  â”‚ â”‚
â”‚  â”‚ Ruff Documentation          >      â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Reset to Defaults                  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Rule Selection Screen

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  < Select Rules                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                          â”‚
â”‚  SELECTED RULES                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ E                           âŠ–      â”‚ â”‚
â”‚  â”‚ F                           âŠ–      â”‚ â”‚
â”‚  â”‚ W                           âŠ–      â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                          â”‚
â”‚  AVAILABLE RULES                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ E                           âœ“      â”‚ â”‚
â”‚  â”‚ Pycodestyle Error                  â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚ F                           âœ“      â”‚ â”‚
â”‚  â”‚ Pyflakes                           â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚ W                           âœ“      â”‚ â”‚
â”‚  â”‚ Pycodestyle Warning                â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚ C90                                â”‚ â”‚
â”‚  â”‚ McCabe Complexity                  â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚ I                                  â”‚ â”‚
â”‚  â”‚ isort                              â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                          â”‚
â”‚  CUSTOM RULE                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ [Rule Code (e.g., E501)]    âŠ•     â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Settings Features

1. **Line Length Configuration**
   - Stepper control (- / +)
   - Range: 40-120 characters
   - Default: 88 (Black's default)

2. **Rule Selection**
   - View and modify selected rule categories
   - Common rules with descriptions
   - Add custom rules by code
   - Remove rules with minus button

3. **Ignored Rules**
   - Similar interface to selected rules
   - Add rules to ignore
   - Remove ignored rules

4. **About Section**
   - App version display
   - Link to Ruff documentation

5. **Reset Button**
   - Returns all settings to defaults
   - Red color to indicate caution

## File Integration

### Opening Files

Users can open Python files through multiple methods:

1. **File Picker (Primary Method)**
   - Tap folder icon in navigation bar
   - Browse file system
   - Select .py or .pyw files
   - Files open immediately with automatic linting

2. **Share Sheet (iOS Native)**
   - From Files app: Share â†’ RuffRuff
   - From other apps with Python files
   - From iCloud Drive, Dropbox, etc.

3. **Drag and Drop (iPad)**
   - Drag Python file from Files app
   - Drop onto RuffRuff app icon or window

### Supported File Types

- `.py` - Python scripts
- `.pyw` - Python Windows scripts
- Plain text files (with manual selection)

## Interactions

### Gestures

1. **Tap**
   - Diagnostic icons: Show error details
   - Buttons: Activate function
   - Links: Navigate

2. **Scroll**
   - Vertical: Navigate through code
   - Horizontal: View long lines

3. **Pull to Refresh** (Future)
   - Re-lint current file

### Visual Feedback

1. **Colors**
   - Red: Errors
   - Orange: Warnings
   - Purple: Keywords
   - Green: Strings
   - Gray: Comments

2. **Backgrounds**
   - Light red tint: Lines with issues
   - Gray: Gutter/margin
   - White/System: Code area

3. **Icons**
   - ğŸ”´ / xmark.circle.fill: Errors
   - âš ï¸ / exclamationmark.triangle.fill: Warnings
   - ğŸ“ / folder: Open file
   - âš™ï¸ / gear: Settings
   - â–¶ï¸ / play.circle: Run lint
   - âŒ / xmark.circle: Close file

## Workflow Example

1. User launches RuffRuff
2. Sees empty state with "Open File" button
3. Taps "Open File" or folder icon
4. Selects a Python file from Files app
5. File opens with syntax highlighting
6. Ruff automatically lints the file
7. Results appear:
   - Header shows count: "âš ï¸ 2  ğŸ”´ 1"
   - Margin shows icons on problem lines
   - Problem lines have red background
8. User taps a diagnostic icon (e.g., âš ï¸ on line 4)
9. Bottom panel shows: "W505: Line too long (95 > 88)"
10. User switches to Settings tab
11. Adjusts line length to 120
12. Returns to Editor tab
13. Taps play button to re-lint
14. Warning on line 4 disappears
15. Header updates to "ğŸ”´ 1"

## Accessibility

- VoiceOver support for all interactive elements
- Dynamic Type support for text scaling
- High contrast mode compatible
- Haptic feedback for interactions
- Descriptive labels for icons and buttons

## Platform Support

- **iPhone**: Portrait and landscape
- **iPad**: All orientations, split-view compatible
- **iOS 16.0+**: Required minimum version

## Performance Considerations

- Asynchronous linting (doesn't block UI)
- Progress indicator during lint operations
- Temporary files cleaned up automatically
- Memory-efficient text rendering
- Lazy loading for large files (future enhancement)

## Future Enhancements

Potential features not in v1.0:

1. Code editing capabilities
2. Quick-fix application from Ruff
3. Multiple file tabs
4. Dark mode customization
5. Export lint reports as text/JSON
6. Comparison before/after fixes
7. Integration with Git
8. Custom color schemes
9. Line wrapping options
10. Search and replace in code
